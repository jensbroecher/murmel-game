[gd_scene load_steps=6 format=3 uid="uid://elevator123"]

[ext_resource type="Script" path="res://elevator.gd" id="1_script"]
[ext_resource type="Material" uid="uid://elevatormat123" path="res://ElevatorMaterial.tres" id="2_mat"]

[sub_resource type="BoxShape3D" id="BoxShape3D_floor"]
size = Vector3(6, 1.0, 6)

[sub_resource type="BoxShape3D" id="BoxShape3D_wall_long"]
size = Vector3(6, 2, 0.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_trigger"]
size = Vector3(5, 0.5, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_door"]
size = Vector3(0.5, 2, 6)

[node name="Elevator" type="AnimatableBody3D"]
script = ExtResource("1_script")
move_offset = Vector3(0, 20, 0)
duration = 5.0
sync_to_physics = true

[node name="FloorMesh" type="CSGBox3D" parent="."]
size = Vector3(6, 1.0, 6)
material = ExtResource("2_mat")

[node name="WallX1" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -2.75)
size = Vector3(6, 2, 0.5)
material = ExtResource("2_mat")

[node name="WallX2" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 2.75)
size = Vector3(6, 2, 0.5)
material = ExtResource("2_mat")

[node name="WallZ2" type="CSGBox3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 2.75, 1.5, 0)
size = Vector3(6, 2, 0.5)
material = ExtResource("2_mat")

[node name="CollisionFloor" type="CollisionShape3D" parent="."]
shape = SubResource("BoxShape3D_floor")

[node name="CollisionWallX1" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -2.75)
shape = SubResource("BoxShape3D_wall_long")

[node name="CollisionWallX2" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 2.75)
shape = SubResource("BoxShape3D_wall_long")

[node name="CollisionWallZ2" type="CollisionShape3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 2.75, 1.5, 0)
shape = SubResource("BoxShape3D_wall_long")

[node name="Trigger" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.75, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Trigger"]
shape = SubResource("BoxShape3D_trigger")

[node name="Door" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.75, -0.5, 0)

[node name="DoorMesh" type="CSGBox3D" parent="Door"]
size = Vector3(0.5, 2, 6)
material = ExtResource("2_mat")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Door"]
shape = SubResource("BoxShape3D_door")

[connection signal="body_entered" from="Trigger" to="." method="_on_trigger_body_entered"]
